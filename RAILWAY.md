# üöÄ Deployment –Ω–∞ Railway - –ü–û–õ–ù–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Valentine Game –Ω–∞ Railway.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

‚úÖ GitHub –∞–∫–∫–∞—É–Ω—Ç (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –∫–æ–¥–æ–º)  
‚úÖ Railway –∞–∫–∫–∞—É–Ω—Ç (railway.app)  
‚úÖ Telegram Bot Token: `8294908477:AAGdjRo5ucowozIT81qGmMJ5vP8R0YAYDNM`  
‚úÖ Cloudinary: `dvzwzytog`  

---

## üîß –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Project –Ω–∞ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://railway.app
2. –ù–∞–∂–º–∏—Ç–µ **"Start New Project"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Deploy from GitHub"**
4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ GitHub
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π **valentbot**
6. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç build

‚úÖ **–ü–µ—Ä–≤—ã–π build —Å–æ–∑–¥–∞—Å—Ç Web Service**

---

## üì¶ –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PostgreSQL

1. –í Railway –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **"+ New"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"PostgreSQL"**
3. –ù–∞–∂–º–∏—Ç–µ "Add"

‚úÖ **Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `PGHOST`
- `PGPORT` (–æ–±—ã—á–Ω–æ 5432)
- `PGUSER`
- `POSTGRES_PASSWORD`
- `POSTGRES_DB` (–æ–±—ã—á–Ω–æ `railway`)

‚ö†Ô∏è **–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≤ PostgreSQL —Å–µ—Ä–≤–∏—Å–µ!**

---

## üîê –®–∞–≥ 3: –°–ê–ú–ê–Ø –í–ê–ñ–ù–ê–Ø –ß–ê–°–¢–¨ - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### ‚ö†Ô∏è –ó–ê–ü–û–ú–ù–ò–¢–ï: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ Web Service, –ù–ï –≤ PostgreSQL!

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Web Service** (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
   - –≠—Ç–æ –ø–µ—Ä–≤—ã–π —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ø–ª–æ–∏–ª—Å—è –∏–∑ GitHub
   - –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å `valentbot` –∏–ª–∏ `web`

2. –ù–∞–∂–º–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Variables"** (–ù–ï Settings!)
   - –≠—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ, Settings —ç—Ç–æ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ

3. **–î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```
TELEGRAM_BOT_TOKEN=8294908477:AAGdjRo5ucowozIT81qGmMJ5vP8R0YAYDNM
TELEGRAM_BOT_USERNAME=valentinmvbot
CLOUDINARY_CLOUD_NAME=dvzwzytog
CLOUDINARY_API_KEY=396524255276334
CLOUDINARY_API_SECRET=7XHmrXMN2ZfcIZcJW58o0wINd68
NODE_ENV=production
```

4. **–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:**
   - –ù–∞–∂–º–∏—Ç–µ Enter –∏–ª–∏ Tab
   - –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ –Ω–∏–∂–µ

5. **–ö–æ–≥–¥–∞ –≤—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–∞–∂–º–∏—Ç–µ "Redeploy"**
   - Railway –∑–∞–ø—É—Å—Ç–∏—Ç –Ω–æ–≤—ã–π build —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
   - –≠—Ç–æ –∑–∞–π–º–µ—Ç 5-10 –º–∏–Ω—É—Ç

---

## üìç –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ APP_URL

1. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Redeploy
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **"Deployments"**
3. –°–º–æ—Ç—Ä–∏—Ç–µ —Å—Ç—Ä–æ–∫—É **"Published URL"** - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å—Å—ã–ª–∫—É
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: `https://valentbot-production-xxx.up.railway.app`

4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ **Variables** Web Service
5. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   ```
   APP_URL=https://valentbot-production-xxx.up.railway.app
   ```
6. –ù–∞–∂–º–∏—Ç–µ **"Redeploy"** –µ—â–µ —Ä–∞–∑

---

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Deployments** ‚Üí **Logs**
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞:
   ```
   üìã Configuration:
   NODE_ENV: production
   PORT: 3000
   APP_URL: https://valentbot-production-xxx.up.railway.app
   ‚úì TELEGRAM_BOT_TOKEN: Set
   ‚úì CLOUDINARY_CLOUD_NAME: Set
   ```

3. –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
   ```
   ‚úÖ Database connected
   ‚úÖ Database synced
   üöÄ Server running on port 3000
   ```

4. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

---

## üéÆ –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ **"Published URL"** –≤ –≤–∫–ª–∞–¥–∫–µ Deployments
2. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à–∞ –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
5. –°—ã–≥—Ä–∞–π—Ç–µ –≤ –º–∏–Ω–∏-–∏–≥—Ä—É
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥

---

## üêõ Troubleshooting

### ‚ùå –û—à–∏–±–∫–∞: "The 'url' argument must be of type string. Received undefined"

```
TypeError: The "url" argument must be of type string. Received undefined
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (Settings –≤–º–µ—Å—Ç–æ Variables)
- –ó–∞–±—ã–ª–∏ –Ω–∞–∂–∞—Ç—å Redeploy

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Web Service ‚Üí **Variables** (–Ω–µ Settings!)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ 6 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–∏–¥–Ω—ã
3. –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–Ω—ã - –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö —Å–Ω–æ–≤–∞
4. –ù–∞–∂–º–∏—Ç–µ **Redeploy**
5. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (5-10 –º–∏–Ω—É—Ç)

### ‚ùå –û—à–∏–±–∫–∞: "role 'postgres' does not exist"

```
role "postgres" does not exist
```

**–ü—Ä–∏—á–∏–Ω–∞:** PostgreSQL –ø–ª–∞–≥–∏–Ω –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –®–∞–≥—É 2
2. –î–æ–±–∞–≤—å—Ç–µ PostgreSQL –ø–ª–∞–≥–∏–Ω (+ New ‚Üí PostgreSQL)
3. –ù–∞–∂–º–∏—Ç–µ Redeploy

### ‚ùå –û—à–∏–±–∫–∞: "Cannot find module 'dist/index.html'"

```
ENOENT: no such file or directory
```

**–ü—Ä–∏—á–∏–Ω–∞:** Frontend –Ω–µ —Å–æ–±—Ä–∞–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Logs
2. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞ "Building frontend..."
3. –ï—Å–ª–∏ –µ—ë –Ω–µ—Ç - Redeploy

### ‚ùå App –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç 404

**–ü—Ä–∏—á–∏–Ω–∞:** dist –ø–∞–ø–∫–∞ –Ω–µ —Å–æ–±—Ä–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd frontend
npm run build
```

### ‚ùå –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞ Railway –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. PostgreSQL –ø–ª–∞–≥–∏–Ω –¥–æ–±–∞–≤–ª–µ–Ω? ‚úì
2. –í—Å–µ 6 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Web Service Variables? ‚úì
3. NODE_ENV=production? ‚úì
4. APP_URL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω? ‚úì

---

## üìä –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway

1. –û—Ç–∫—Ä–æ–π—Ç–µ Web Service
2. –ù–∞–∂–º–∏—Ç–µ **Variables**
3. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –¥–æ–±–∞–≤–∏–ª–∏

**–û–Ω–∏ –ù–ï –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã:**
- –ù–∏ –≤ Settings
- –ù–∏ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö

**–ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å—á–µ–∑–∞—é—Ç –ø–æ—Å–ª–µ Redeploy:**
- –í—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –∏—Ö –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ
- –°–º–æ—Ç—Ä–∏—Ç–µ **–®–∞–≥ 3** –µ—â–µ —Ä–∞–∑

---

## üîó –ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ Railway —Å–æ–∑–¥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- `PGHOST` - —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `PGPORT` - –ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `PGUSER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–æ–±—ã—á–Ω–æ `postgres`)
- `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å
- `POSTGRES_DB` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã (–æ–±—ã—á–Ω–æ `railway`)

**–≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!**

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway  
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∞  
‚úÖ Cloudinary –∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–µ–¥–∏–∞  
‚úÖ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞  

**–í–∞—à Valentine Game –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ**

–°—Å—ã–ª–∫–∞ –¥–ª—è Telegram: `https://t.me/valentinmvbot?startapp=card_id`

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Logs**: Deployments ‚Üí Logs
2. **–ò—â–∏—Ç–µ –æ—à–∏–±–∫—É** –≤ –≤—ã–≤–æ–¥–µ
3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É** –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Troubleshooting –≤—ã—à–µ
4. **–ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ** - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª RAILWAY_FIX.md

**–£–¥–∞—á–∏! üöÄ**
